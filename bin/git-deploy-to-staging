#!/bin/sh
#
# git-deploy-to-staging
#
# Shortcut for merging the currently active branch into a branch called
# `staging` and then pushing both branches.
#
# Will fail upon merge conflict, as expected.

BRANCH=$(git rev-parse --abbrev-ref HEAD)

git checkout staging &&
echo
git pull &&
echo
git merge $BRANCH --no-edit &&
echo
git push &&
echo
git checkout $BRANCH &&
git push
