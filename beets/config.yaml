include:
  - local-config.yaml

plugins:
  - chroma
  - discogs
  - edit
  - embedart
  - fetchart
  - importadded
  - info
  - inline
  # - lastgenre
  # - plexupdate
  - replaygain
  #  - wlg

pluginpath: ~/.whatlastgenre/whatlastgenre/plugin/beets/beetsplug

paths:
  default: $albumartist/$album%aunique{}/%if{$multidisc,Disc $disc/}$track - $title
  comp: Various Artists/$album%aunique{}/%if{$multidisc,Disc $disc/}$track - $title

# Support for Plex
# https://forums.plex.tv/t/music-which-version-of-id3-tags-does-the-plex-scanner-inspect/193379/7
id3v23: yes

item_fields:
  multidisc: 1 if disctotal > 1 else 0
  artist_differs: 1 if albumartist != artist else 0

import:
  bell: yes
  copy: no
  languages:
    - en
  log: ~/.config/beets/beets.log
  move: yes

# format_item:

match:
  preferred:
    countries: ["US", "GB|UK", "DE"]
    media: ["CD", "Digital Media|File"]

# Use the album's original date instead of the release's date
original_date: yes

# Play it safe with filenames
asciify_paths: yes
max_filename_length: 150

ui:
  color: yes
  colors:
    text_success: green
    text_warning: yellow
    text_error: red
    text_highlight: red
    text_highlight_minor: lightgray
    action_default: turquoise
    action: blue

# Edit plugin
# https://beets.readthedocs.io/en/stable/plugins/edit.html
edit:
  itemfields: track title artist album
  albumfields: album albumartist

# FetchArt plugin
# https://beets.readthedocs.io/en/stable/plugins/fetchart.html
fetchart:
  sources: filesystem coverart discogs amazon albumart

# LastGenre plugin
# https://beets.readthedocs.io/en/stable/plugins/lastgenre.html
# lastgenre:
# auto: yes
# canonical: ~/.config/beets/canonical.txt
# count: 1
# fallback: ''
# force: no
# min_weight: 6
# prefer_specific: no
# separator: ', '
# source: album
# whitelist: ~/.config/beets/whitelist.txt

# ReplayGain plugin
# https://beets.readthedocs.io/en/stable/plugins/replaygain.html
replaygain:
  auto: yes
  backend: command

wlg:
  auto: yes
  force: no
